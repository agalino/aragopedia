(function(b,a){a(document).ready(function(g){var d,k,h,f=g("#simpleSearch, #searchInput").first(),i=g("#searchInput");d={browsers:{ltr:{opera:[[">=",9.6]],docomo:false,blackberry:false,ipod:false,iphone:false},rtl:{opera:[[">=",9.6]],docomo:false,blackberry:false,ipod:false,iphone:false}}};if(!g.client.test(d)){return}function e(o){var m,l,n,p;m=o.config.$region.closest("form");l=m.attr("action");n=l+(l.match(/\?/)?"&":"?");p={};g.each(m.serializeArray(),function(q,r){p[r.name]=r.value});return{textParam:o.data.$textbox.attr("name"),linkParams:p,baseHref:n}}function c(m,l){if(!k){k=e(l)}k.linkParams[k.textParam]=m;this.append(g("<span>").css("whiteSpace","nowrap").text(m)).wrap(g("<a>").attr("href",k.baseHref+g.param(k.linkParams)).addClass("mw-searchSuggest-link"))}function j(n,m){var l=this;if(!k){k=e(m)}k.linkParams[k.textParam]=n;if(l.children().length===0){l.append(g("<div>").addClass("special-label").text(b.msg("searchsuggest-containing")),g("<div>").addClass("special-query").text(n).autoEllipsis()).show()}else{l.find(".special-query").text(n).autoEllipsis()}if(l.parent().hasClass("mw-searchSuggest-link")){l.parent().attr("href",k.baseHref+g.param(k.linkParams)+"&fulltext=1")}else{l.wrap(g("<a>").attr("href",k.baseHref+g.param(k.linkParams)+"&fulltext=1").addClass("mw-searchSuggest-link"))}}h=["#searchInput","#searchInput2","#powerSearchText","#searchText",".mw-searchInput"];g(h.join(", ")).suggestions({fetch:function(n){var l,m;if(n.length!==0){l=g(this);m=g.ajax({url:b.util.wikiScript("api"),data:{format:"json",action:"opensearch",search:n,namespace:0,suggest:""},dataType:"json",success:function(o){if(g.isArray(o)&&o.length){l.suggestions("suggestions",o[1])}}});l.data("request",m)}},cancel:function(){var l=g(this).data("request");if(l&&g.isFunction(l.abort)){l.abort();g(this).removeData("request")}},result:{render:c,select:function(l){l.closest("form").submit()}},delay:120,highlightInput:true}).bind("paste cut drop",function(){g(this).trigger("keypress")});if(f.length===0){return}i.attr("placeholder",b.msg("searchsuggest-search")).placeholder();i.suggestions({result:{render:c,select:function(l){l.closest("form").submit()}},special:{render:j,select:function(l){l.closest("form").append(g('<input type="hidden" name="fulltext" value="1"/>'));l.closest("form").submit()}},$region:f});i.data("suggestions-context").data.$container.css("fontSize",i.css("fontSize"))})}(mediaWiki,jQuery));