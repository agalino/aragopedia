jQuery(document).ready(function(d){var a,f,m,n,c,l,e,i,k;d("#prefsubmit").attr("id","prefcontrol");a=d('<ul id="preftoc"></ul>');f=d("#preferences").addClass("jsprefs").before(a);m=f.children("fieldset").hide().addClass("prefsection");n=m.children("legend").addClass("mainLegend");function j(o,r){var p,q;q=d(window).scrollTop();if(r!=="noHash"){window.location.hash="#mw-prefsection-"+o}d(window).scrollTop(q);a.find("li").removeClass("selected");p=d(document.getElementById("preftab-"+o));if(p.length){p.parent().addClass("selected");f.children("fieldset").hide();d(document.getElementById("mw-prefsection-"+o)).show()}}n.each(function(o,p){var s=d(p),r,t,q;if(o===0){s.parent().show()}r=s.parent().attr("id");t=d("<li>").addClass(o===0?"selected":"");q=d("<a>").attr({id:r.replace("mw-prefsection","preftab"),href:"#"+r}).text(s.text());t.append(q);a.append(t)});c=window.location.hash;if(c.match(/^#mw-prefsection-[\w\-]+/)){j(c.replace("#mw-prefsection-",""))}if("onhashchange" in window&&(document.documentMode===undefined||document.documentMode>=8)){d(window).on("hashchange",function(){var o=window.location.hash;if(o.match(/^#mw-prefsection-[\w\-]+/)){j(o.replace("#mw-prefsection-",""))}else{if(o===""){j("personal","noHash")}}})}else{a.on("click","li a",function(o){j(d(this).attr("href").replace("#mw-prefsection-",""));o.preventDefault()})}l=d("#mw-input-wptimecorrection");e=d("#mw-input-wptimecorrection-other");i=d("#wpLocalTime");k=parseInt(d('input[name="wpServerTime"]').val(),10);function h(q){var p=Math.floor(Math.abs(q)/60),o=Math.abs(q)%60,r=((q>=0)?"":"-")+((p<10)?"0":"")+p+":"+((o<10)?"0":"")+o;return r}function g(p){var q,o=p.split(":");o[0]=parseInt(o[0],10);if(o.length===1){q=o[0]*60}else{q=Math.abs(o[0])*60+parseInt(o[1],10);if(o[0]<0){q*=-1}}if(isNaN(q)){return 0}else{return q}}function b(){var o,q,p=l.val();if(p==="guess"){o=-(new Date().getTimezoneOffset());e.val(h(o));l.val("other");e.prop("disabled",false)}else{if(p==="other"){o=g(e.val())}else{o=parseInt(p.split("|")[1],10)||0;e.val(h(o))}}q=k+o;while(q<0){q+=1440}while(q>=1440){q-=1440}i.text(h(q))}if(l.length&&e.length){l.change(b);e.blur(b);b()}if(window.sessionStorage){if(sessionStorage.getItem("mediawikiPreferencesTab")!==null){j(sessionStorage.getItem("mediawikiPreferencesTab"),"noHash")}sessionStorage.removeItem("mediawikiPreferencesTab");d("#mw-prefs-form").submit(function(){var o=d(a).find("li.selected a").attr("id").replace("preftab-","");sessionStorage.setItem("mediawikiPreferencesTab",o)})}});