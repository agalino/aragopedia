(function($){var profileCache={};$.client={profile:function(nav){if(nav===undefined){nav=window.navigator}if(profileCache[nav.userAgent]===undefined){var versionNumber,uk="unknown",x="x",wildUserAgents=["Opera","Navigator","Minefield","KHTML","Chrome","PLAYSTATION 3"],userAgentTranslations=[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"],["PLAYSTATION 3","PS3"]],versionPrefixes=["camino","chrome","firefox","iceweasel","netscape","netscape6","opera","version","konqueror","lynx","msie","safari","ps3"],versionSuffix="(\\/|\\;?\\s|)([a-z0-9\\.\\+]*?)(\\;|dev|rel|\\)|\\s|$)",names=["camino","chrome","firefox","iceweasel","netscape","konqueror","lynx","msie","opera","safari","ipod","iphone","blackberry","ps3","rekonq"],nameTranslations=[],layouts=["gecko","konqueror","msie","opera","webkit"],layoutTranslations=[["konqueror","khtml"],["msie","trident"],["opera","presto"]],layoutVersions=["applewebkit","gecko"],platforms=["win","mac","linux","sunos","solaris","iphone"],platformTranslations=[["sunos","solaris"]],translate=function(source,translations){var i;for(i=0;i<translations.length;i++){source=source.replace(translations[i][0],translations[i][1])}return source},ua=nav.userAgent,match,name=uk,layout=uk,layoutversion=uk,platform=uk,version=x;if(match=new RegExp("("+wildUserAgents.join("|")+")").exec(ua)){ua=translate(ua,userAgentTranslations)}ua=ua.toLowerCase();if(match=new RegExp("("+names.join("|")+")").exec(ua)){name=translate(match[1],nameTranslations)}if(match=new RegExp("("+layouts.join("|")+")").exec(ua)){layout=translate(match[1],layoutTranslations)}if(match=new RegExp("("+layoutVersions.join("|")+")\\/(\\d+)").exec(ua)){layoutversion=parseInt(match[2],10)}if(match=new RegExp("("+platforms.join("|")+")").exec(nav.platform.toLowerCase())){platform=translate(match[1],platformTranslations)}if(match=new RegExp("("+versionPrefixes.join("|")+")"+versionSuffix).exec(ua)){version=match[3]}if(name.match(/safari/)&&version>400){version="2.0"}if(name==="opera"&&version>=9.8){match=ua.match(/version\/([0-9\.]*)/i);if(match&&match[1]){version=match[1]}else{version="10"}}versionNumber=parseFloat(version,10)||0;profileCache[nav.userAgent]={name:name,layout:layout,layoutVersion:layoutversion,platform:platform,version:version,versionBase:(version!==x?Math.floor(versionNumber).toString():x),versionNumber:versionNumber}}return profileCache[nav.userAgent]},test:function(map,profile){var conditions,dir,i,op,val;profile=$.isPlainObject(profile)?profile:$.client.profile();dir=$("body").is(".rtl")?"rtl":"ltr";if(typeof map[dir]!=="object"||map[dir][profile.name]===undefined){return true}conditions=map[dir][profile.name];if(conditions===false){return false}for(i=0;i<conditions.length;i++){op=conditions[i][0];val=conditions[i][1];if(typeof val==="string"){if(!(eval("profile.version"+op+'"'+val+'"'))){return false}}else{if(typeof val==="number"){if(!(eval("profile.versionNumber"+op+val))){return false}}}}return true}}}(jQuery));