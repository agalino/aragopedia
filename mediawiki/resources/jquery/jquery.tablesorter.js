(function(h,p){var a,l=[];function w(y){var x=l.length;for(var z=0;z<x;z++){if(l[z].id.toLowerCase()===y.toLowerCase()){return l[z]}}return false}function n(y){var x=h(y),z=x.data("sortValue");if(z!==null&&z!==undefined){return String(z)}else{if(!y){return x.text()}else{if(y.tagName.toLowerCase()==="img"){return x.attr("alt")||""}else{return h.map(h.makeArray(y.childNodes),function(A){if(A.nodeType===1){return n(A)}else{return h.text(A)}}).join("")}}}}function e(E,F,B){var x=l.length,z,y=1,C=0,A=0,D=(F.length>4)?5:F.length;while(y<x){if(F[C]&&F[C].cells[B]){z=h.trim(n(F[C].cells[B]))}else{z=""}if(z!==""){if(l[y].is(z,E)){A++;C++;if(A>=D){return l[y]}}else{y++;C=0;A=0}}else{C++;if(C>F.length){C=0;y++}}}return l[0]}function f(D,B){var F=D.tBodies[0].rows,y,C=[];if(F[0]){var E=F[0].cells,A=E.length,z,x;for(z=0;z<A;z++){x=false;y=B.eq(z).data("sortType");if(y!==undefined){x=w(y)}if(x===false){x=e(D,F,z)}C.push(x)}}return C}function v(F){var D=(F.tBodies[0]&&F.tBodies[0].rows.length)||0,y=(F.tBodies[0].rows[0]&&F.tBodies[0].rows[0].cells.length)||0,E=F.config.parsers,x={row:[],normalized:[]};for(var A=0;A<D;++A){var B=h(F.tBodies[0].rows[A]),C=[];if(B.hasClass(F.config.cssChildRow)){x.row[x.row.length-1]=x.row[x.row.length-1].add(B);continue}x.row.push(B);for(var z=0;z<y;++z){C.push(E[z].format(n(B[0].cells[z]),F,B[0].cells[z]))}C.push(x.normalized.length);x.normalized.push(C);C=null}return x}function u(G,x){var H=x.row,F=x.normalized,E=F.length,z=(F[0].length-1),C=document.createDocumentFragment();for(var B=0;B<E;B++){var D=F[B][z];var y=H[D].length;for(var A=0;A<y;A++){C.appendChild(H[D][A])}}G.tBodies[0].appendChild(C);h(G).trigger("sortEnd.tablesorter")}function g(z){var y=z.find("> tbody > tr");if(!z.get(0).tHead){var C=h("<thead>");y.each(function(){if(h(this).children("td").length>0){return false}C.append(this)});z.find(" > tbody:first").before(C)}if(!z.get(0).tFoot){var B=h("<tfoot>");var x=y.length;for(var A=x-1;A>=0;A--){if(h(y[A]).children("td").length>0){break}B.prepend(h(y[A]))}z.append(B)}}function s(A,C){var B=0,y,x=0,z=h("thead:eq(0) > tr",A);if(z.length>1){z.each(function(){if(this.cells.length>B){B=this.cells.length;y=this}});z=h(y)}z=z.children("th").each(function(D){this.column=x;var E=this.colspan;E=E?parseInt(E,10):1;x+=E;this.order=0;this.count=0;if(h(this).is(".unsortable")){this.sortDisabled=true}if(!this.sortDisabled){h(this).addClass(A.config.cssHeader).attr("title",C[1])}A.config.headerList[D]=this});return z}function m(z,y){var x=y.length;for(var A=0;A<x;A++){if(y[A][0]===z){return true}}return false}function c(B,A,C,z,D,x){A.removeClass(z[0]).removeClass(z[1]).attr("title",D[1]);for(var y=0;y<C.length;y++){A.eq(x[C[y][0]]).addClass(z[C[y][1]]).attr("title",D[C[y][1]])}}function q(y,x){return((y<x)?-1:((y>x)?1:0))}function i(y,x){return((x<y)?-1:((x>y)?1:0))}function t(B,y,z){var C=[];var x=y.length;for(var A=0;A<x;A++){C[A]=(y[A][1])?i:q}z.normalized.sort(function(H,G){var E,D;for(var F=0;F<x;F++){E=y[F][0];D=C[F].call(this,H[E],G[E]);if(D!==0){return D}}return q.call(this,H[H.length-1],G[G.length-1])});return z}function r(){var B="0123456789,.".split("");var z=p.config.get("wgSeparatorTransformTable");var C=p.config.get("wgDigitTransformTable");if(z===null||(z[0]===""&&C[2]==="")){a.transformTable=false}else{a.transformTable={};var x=z[0].split("\t").concat(C[0].split("\t"));var D=z[1].split("\t").concat(C[1].split("\t"));for(var A=0;A<x.length;A++){a.transformTable[D[A]]=x[A];B.push(h.escapeRE(D[A]))}}var y="["+B.join("",B)+"]";a.numberRegex=new RegExp("^([-+\u2212]?[0-9][0-9,]*(\\.[0-9,]*)?(E[-+\u2212]?[0-9][0-9,]*)?|[-+\u2212]?"+y+"+[\\s\\xa0]*%?)$","i")}function k(){var z=[];a.monthNames={};for(var y=1;y<13;y++){var x=p.config.get("wgMonthNames")[y].toLowerCase();a.monthNames[x]=y;z.push(h.escapeRE(x));x=p.config.get("wgMonthNamesShort")[y].toLowerCase().replace(".","");a.monthNames[x]=y;z.push(h.escapeRE(x))}z=z.join("|");a.dateRegex[0]=new RegExp(/^\s*(\d{1,2})[\,\.\-\/'\s]{1,2}(\d{1,2})[\,\.\-\/'\s]{1,2}(\d{2,4})\s*?/i);a.dateRegex[1]=new RegExp("^\\s*(\\d{1,2})[\\,\\.\\-\\/'\\s]*("+z+")[\\,\\.\\-\\/'\\s]*(\\d{2,4})\\s*$","i");a.dateRegex[2]=new RegExp("^\\s*("+z+")[\\,\\.\\-\\/'\\s]*(\\d{1,2})[\\,\\.\\-\\/'\\s]*(\\d{2,4})\\s*$","i")}function o(I){var B=I.find("> tbody > tr > [rowspan]").get();if(!B.length){return}I.find("> tbody > tr").each(function(){var L=0;var K=this.cells.length;for(var M=0;M<K;M++){this.cells[M].realCellIndex=L;this.cells[M].realRowIndex=this.rowIndex;L+=this.cells[M].colSpan}});function E(){B=B.sort(function(L,K){var M=L.realCellIndex-K.realCellIndex;if(!M){M=L.realRowIndex-K.realRowIndex}return M});h.each(B,function(){this.needResort=false})}E();var J,F,C;function y(){return this.realCellIndex>=J}function z(){this.realCellIndex+=C;if(this.rowSpan>1){this.needResort=true}}while(B.length){if(B[0].needResort){E()}var H=B.shift();F=H.rowSpan;C=H.colSpan;J=H.realCellIndex;H.rowSpan=1;var G=h(H).parent().nextAll();for(var A=0;A<F-1;A++){var x=h(G[A].cells).filter(y);var D=h(H).clone();D[0].realCellIndex=J;if(x.length){x.each(z);x.first().before(D)}else{G.eq(A).append(D)}}}}function j(){a.collationTable=p.config.get("tableSorterCollation");a.collationRegex=null;if(a.collationTable){var y=[];for(var x in a.collationTable){if(a.collationTable.hasOwnProperty(x)){y.push(x)}}if(y.length){a.collationRegex=new RegExp("["+y.join("")+"]","ig")}}}function d(){if(a.rgx){return}a.rgx={IPAddress:[new RegExp(/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/)],currency:[new RegExp(/(^[£$€¥]|[£$€¥]$)/),new RegExp(/[£$€¥]/g)],url:[new RegExp(/^(https?|ftp|file):\/\/$/),new RegExp(/(https?|ftp|file):\/\//)],isoDate:[new RegExp(/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/)],usLongDate:[new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/)],time:[new RegExp(/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/)]}}function b(y){var x=[];h.each(y,function(z,A){h.each(A,function(D,B){var C=(B==="desc")?1:0;x.push([D,C])})});return x}h.tablesorter={defaultOptions:{cssHeader:"headerSort",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortLocaleCompare:false,parsers:{},widgets:[],headers:{},cancelSelection:true,sortList:[],headerList:[],selectorHeaders:"thead tr:eq(0) th",debug:false},dateRegex:[],monthNames:{},construct:function(y,x){return y.each(function(F,L){var J,A,D,C,H,E,K=h(L),z=true;if(!L.tBodies){return}if(!L.tHead){g(K);if(!L.tHead){return}}K.addClass("jquery-tablesorter");L.config={};D=h.extend(L.config,h.tablesorter.defaultOptions,x);h.data(L,"tablesorter",{config:D});var G=[D.cssDesc,D.cssAsc];var I=[p.msg("sort-descending"),p.msg("sort-ascending")];J=s(L,I);r();k();j();d();function B(){z=false;var N=K.find("> tbody > tr.sortbottom");if(N.length){var M=K.children("tfoot");if(M.length){M.eq(0).prepend(N)}else{K.append(h("<tfoot>").append(N))}}o(K);L.config.parsers=f(L,J)}C=[];H=[];E=0;J.each(function(M){var O=[];for(var N=0;N<this.colSpan;N++){H[E+N]=M;O.push(E+N)}C[M]=O;E+=this.colSpan});J.filter(":not(.unsortable)").click(function(R){if(R.target.nodeName.toLowerCase()==="a"){return true}if(z){B()}A=v(L);var S=(K[0].tBodies[0]&&K[0].tBodies[0].rows.length)||0;if(!L.sortDisabled&&S>0){this.order=this.count%2;this.count++;var T=this;var N=C[this.column];var O=h.map(N,function(V){return[[V,T.order]]});var Q=N[0];if(!R[D.sortMultiSortKey]){D.sortList=O}else{if(m(Q,D.sortList)){for(var P=0;P<D.sortList.length;P++){var U=D.sortList[P],M=D.headerList[U[0]];if(m(U[0],O)){M.count=U[1];M.count++;U[1]=M.count%2}}}else{D.sortList=D.sortList.concat(O)}}c(K[0],J,D.sortList,G,I,H);u(K[0],t(K[0],D.sortList,A));return false}}).mousedown(function(){if(D.cancelSelection){this.onselectstart=function(){return false};return false}});K.data("tablesorter").sort=function(M){if(z){B()}if(M===undefined){M=D.sortList}else{if(M.length>0){M=b(M)}}A=v(L);c(L,J,M,G,I,H);u(L,t(L,M,A))};if(D.sortList.length>0){B();D.sortList=b(D.sortList);K.data("tablesorter").sort()}})},addParser:function(A){var y=l.length,x=true;for(var z=0;z<y;z++){if(l[z].id.toLowerCase()===A.id.toLowerCase()){x=false}}if(x){l.push(A)}},formatDigit:function(z){var x,B,A,y;if(a.transformTable!==false){x="";for(A=0;A<z.length;A++){B=z.charAt(A);if(B in a.transformTable){x+=a.transformTable[B]}else{x+=B}}z=x}y=parseFloat(z.replace(/[, ]/g,"").replace("\u2212","-"));return isNaN(y)?0:y},formatFloat:function(y){var x=parseFloat(y);return isNaN(x)?0:x},formatInt:function(y){var x=parseInt(y,10);return isNaN(x)?0:x},clearTableBody:function(x){h(x.tBodies[0]).empty()}};a=h.tablesorter;h.fn.tablesorter=function(x){return a.construct(this,x)};a.addParser({id:"text",is:function(){return true},format:function(x){x=h.trim(x.toLowerCase());if(a.collationRegex){var y=a.collationTable;x=x.replace(a.collationRegex,function(z){var A=y[z]?y[z]:y[z.toUpperCase()];return A.toLowerCase()})}return x},type:"text"});a.addParser({id:"IPAddress",is:function(x){return a.rgx.IPAddress[0].test(x)},format:function(A){var y=A.split("."),C="",x=y.length;for(var z=0;z<x;z++){var B=y[z];if(B.length===1){C+="00"+B}else{if(B.length===2){C+="0"+B}else{C+=B}}}return h.tablesorter.formatFloat(C)},type:"numeric"});a.addParser({id:"currency",is:function(x){return a.rgx.currency[0].test(x)},format:function(x){return h.tablesorter.formatDigit(x.replace(a.rgx.currency[1],""))},type:"numeric"});a.addParser({id:"url",is:function(x){return a.rgx.url[0].test(x)},format:function(x){return h.trim(x.replace(a.rgx.url[1],""))},type:"text"});a.addParser({id:"isoDate",is:function(x){return a.rgx.isoDate[0].test(x)},format:function(x){return h.tablesorter.formatFloat((x!=="")?new Date(x.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});a.addParser({id:"usLongDate",is:function(x){return a.rgx.usLongDate[0].test(x)},format:function(x){return h.tablesorter.formatFloat(new Date(x).getTime())},type:"numeric"});a.addParser({id:"date",is:function(x){return(a.dateRegex[0].test(x)||a.dateRegex[1].test(x)||a.dateRegex[2].test(x))},format:function(z){var x;z=h.trim(z.toLowerCase());if((x=z.match(a.dateRegex[0]))!==null){if(p.config.get("wgDefaultDateFormat")==="mdy"||p.config.get("wgContentLanguage")==="en"){z=[x[3],x[1],x[2]]}else{if(p.config.get("wgDefaultDateFormat")==="dmy"){z=[x[3],x[2],x[1]]}else{return"99999999"}}}else{if((x=z.match(a.dateRegex[1]))!==null){z=[x[3],""+a.monthNames[x[2]],x[1]]}else{if((x=z.match(a.dateRegex[2]))!==null){z=[x[3],""+a.monthNames[x[1]],x[2]]}else{return"99999999"}}}if(z[1].length===1){z[1]="0"+z[1]}if(z[2].length===1){z[2]="0"+z[2]}var A;if((A=parseInt(z[0],10))<100){if(A<30){z[0]=2000+A}else{z[0]=1900+A}}while(z[0].length<4){z[0]="0"+z[0]}return parseInt(z.join(""),10)},type:"numeric"});a.addParser({id:"time",is:function(x){return a.rgx.time[0].test(x)},format:function(x){return h.tablesorter.formatFloat(new Date("2000/01/01 "+x).getTime())},type:"numeric"});a.addParser({id:"number",is:function(x){return h.tablesorter.numberRegex.test(h.trim(x))},format:function(x){return h.tablesorter.formatDigit(x)},type:"numeric"})}(jQuery,mediaWiki));