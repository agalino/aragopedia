(function(c,b){var a={init:function(){var f,g,d,e;f=b.client.profile();if(f.name==="opera"){a.tooltipAccessKeyPrefix="shift-esc-"}else{if(f.name==="chrome"){a.tooltipAccessKeyPrefix=(f.platform==="mac"?"ctrl-option-":"alt-shift-")}else{if(f.platform!=="win"&&f.name==="safari"&&f.layoutVersion>526){a.tooltipAccessKeyPrefix="ctrl-alt-"}else{if(f.platform==="mac"&&f.name==="firefox"&&f.versionNumber>=14){a.tooltipAccessKeyPrefix="ctrl-option-"}else{if(!(f.platform==="win"&&f.name==="safari")&&(f.name==="safari"||f.platform==="mac"||f.name==="konqueror")){a.tooltipAccessKeyPrefix="ctrl-"}else{if(f.name==="firefox"&&f.versionBase>"1"){a.tooltipAccessKeyPrefix="alt-shift-"}}}}}}a.$content=(function(){var m,h,j,k;k=[".mw-body-primary",".mw-body","#bodyContent","#mw_contentholder","#article","#content","#mw-content-text","body"];for(m=0,h=k.length;m<h;m++){j=b(k[m]).first();if(j.length){return j}}return a.$content})();g=b("#toctitle");d=b("#togglelink");if(b("#toc").length&&g.length&&!d.length){e=b.cookie("mw_hidetoc");d=b('<a href="#" class="internal" id="togglelink"></a>').text(c.msg("hidetoc")).click(function(h){h.preventDefault();a.toggleToc(b(this))});g.append(d.wrap('<span class="toctoggle"></span>').parent().prepend("&nbsp;[").append("]&nbsp;"));if(e==="1"){a.toggleToc(d)}}},rawurlencode:function(d){d=String(d);return encodeURIComponent(d).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/~/g,"%7E")},wikiUrlencode:function(d){return a.rawurlencode(d).replace(/%20/g,"_").replace(/%3A/g,":").replace(/%2F/g,"/")},wikiGetlink:function(d){return c.config.get("wgArticlePath").replace("$1",a.wikiUrlencode(typeof d==="string"?d:c.config.get("wgPageName")))},wikiScript:function(d){d=d||"index";if(d==="index"){return c.config.get("wgScript")}else{if(d==="load"){return c.config.get("wgLoadScript")}else{return c.config.get("wgScriptPath")+"/"+d+c.config.get("wgScriptExtension")}}},addCSS:function(e){var d=c.loader.addStyleTag(e);return d.sheet||d},toggleToc:function(e,f){var d=b("#toc ul:first");if(d.length){if(d.is(":hidden")){d.slideDown("fast",f);e.text(c.msg("hidetoc"));b("#toc").removeClass("tochidden");b.cookie("mw_hidetoc",null,{expires:30,path:"/"});return true}else{d.slideUp("fast",f);e.text(c.msg("showtoc"));b("#toc").addClass("tochidden");b.cookie("mw_hidetoc","1",{expires:30,path:"/"});return false}}else{return null}},getParamValue:function(g,e){if(e===undefined){e=document.location.href}var f=new RegExp("^[^#]*[&?]"+b.escapeRE(g)+"=([^&#]*)"),d=f.exec(e);if(d){return decodeURIComponent(d[1].replace(/\+/g,"%20"))}return null},tooltipAccessKeyPrefix:"alt-",tooltipAccessKeyRegexp:/\[(ctrl-)?(alt-)?(shift-)?(esc-)?(.)\]$/,updateTooltipAccessKeys:function(d){if(!d){d=b("#column-one a, #mw-head a, #mw-panel a, #p-logo a, input, label")}else{if(!(d instanceof b)){d=b(d)}}d.attr("title",function(e,f){if(f&&a.tooltipAccessKeyRegexp.exec(f)){return f.replace(a.tooltipAccessKeyRegexp,"["+a.tooltipAccessKeyPrefix+"$5]")}return f})},$content:null,addPortletLink:function(j,d,l,e,m,k,n){var i,h,g,f;if(arguments.length<3){return null}h=b("<a>").attr("href",d).text(l);if(m){h.attr("title",m)}switch(c.config.get("skin")){case"standard":b("#quickbar").append(h.after("<br/>"));return h[0];case"nostalgia":b("#searchform").before(h).before(" &#124; ");return h[0];default:g=b("#"+j);if(g.length===0){return null}f=g.find("ul").eq(0);if(f.length===0){f=b("<ul>");if(g.find("div:first").length===0){g.append(f)}else{g.find("div").eq(-1).append(f)}}if(f.length===0){return null}g.removeClass("emptyPortlet");if(g.hasClass("vectorTabs")){i=h.wrap("<li><span></span></li>").parent().parent()}else{i=h.wrap("<li></li>").parent()}if(e){i.attr("id",e)}if(k){h.attr("accesskey",k);m+=" ["+k+"]";h.attr("title",m)}if(k&&m){a.updateTooltipAccessKeys(h)}if(n&&n.parentNode===f[0]){b(n).before(i)}else{if(typeof n==="string"&&f.find(n).length!==0){f.find(n).eq(0).before(i)}else{f.append(i)}}return i[0]}},jsMessage:function(d){if(!arguments.length||d===""||d===null){return true}if(typeof d!=="object"){d=b.parseHTML(d)}c.notify(d,{autoHide:true,tag:"legacy"});return true},validateEmail:function(e){var f,g,d;if(e===""){return null}f="a-z0-9!#$%&'*+\\-/=?^_`{|}~";g="a-z0-9\\-";d=new RegExp("^["+f+"\\.]+@["+g+"]+(?:\\.["+g+"]+)*$","i");return(null!==e.match(d))},isIPv4Address:function(e,d){if(typeof e!=="string"){return false}var h=d?"(?:\\/(?:3[0-2]|[12]?\\d))?":"",f="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|0?[0-9]?[0-9])",g="(?:"+f+"\\.){3}"+f;return e.search(new RegExp("^"+g+h+"$"))!==-1},isIPv6Address:function(e,d){if(typeof e!=="string"){return false}var g=d?"(?:\\/(?:12[0-8]|1[01][0-9]|[1-9]?\\d))?":"",f="(?::(?::|(?::[0-9A-Fa-f]{1,4}){1,7})|[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4}){0,6}::|[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4}){7})";if(e.search(new RegExp("^"+f+g+"$"))!==-1){return true}f="[0-9A-Fa-f]{1,4}(?:::?[0-9A-Fa-f]{1,4}){1,6}";return e.search(new RegExp("^"+f+g+"$"))!==-1&&e.search(/::/)!==-1&&e.search(/::.*::/)===-1}};c.util=a}(mediaWiki,jQuery));