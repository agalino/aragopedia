(function(e,c){function d(k,i,j,g){if(!j){j="0"}var h=String(k),f=b(j,Math.ceil((i-h.length)/j.length));return g?h+f:f+h}function b(h,g){if(g<=0||!h){return""}var f=[];while(g){f.push(h);h+=h}return f.join("")}function a(p,n,u){u=u||{group:",",decimal:"."};if(isNaN(p)){return p}var k,r,m,o,h,s,g=n.split("."),t=(g[1]||[]).length,l=String(Math.abs(p)).split("."),j=l[1]||"",q=0,f=0,i=[];if(g[1]){k=(g[1]&&g[1].lastIndexOf("0")+1);if(k>j.length){l[1]=d(j,k,"0",true)}if(t<j.length){l[1]=j.substr(0,t)}}else{if(l[1]){l.pop()}}r=g[0].replace(",","");k=r.indexOf("0");if(k!==-1){k=r.length-k;if(k>l[0].length){l[0]=d(l[0],k)}if(r.indexOf("#")===-1){l[0]=l[0].substr(l[0].length-k)}}m=g[0].lastIndexOf(",");if(m!==-1){q=g[0].length-m-1;s=g[0].substr(0,m);m=s.lastIndexOf(",");if(m!==-1){f=s.length-m-1}}for(o=l[0];o;){h=o.length-q;i.push((h>0)?o.substr(h):o);o=(h>0)?o.slice(0,h):"";if(f){q=f}}l[0]=i.reverse().join(u.group);return l.join(u.decimal)}c.extend(e.language,{convertNumber:function(g,f){var j,h,k,l,n,m;m=e.language.getData(e.config.get("wgUserLanguage"),"digitGroupingPattern")||"#,##0.###";k=e.language.getDigitTransformTable();if(!k){return g}if(f){if(parseInt(g,10)===g){return g}h=[];for(j in k){h[k[j]]=j}k=h;l=g+""}else{l=e.language.commafy(g,m)}n="";for(j=0;j<l.length;j++){if(k[l[j]]){n+=k[l[j]]}else{n+=l[j]}}return f?parseInt(n,10):n},getDigitTransformTable:function(){return e.language.getData(e.config.get("wgUserLanguage"),"digitTransformTable")||[]},getSeparatorTransformTable:function(){return e.language.getData(e.config.get("wgUserLanguage"),"separatorTransformTable")||[]},commafy:function(l,j){var h,k=e.language.getSeparatorTransformTable(),m=k[","]||",",i=/[#0,]*[#0](?:\.0*#*)?/,g=k["."]||".",f=j.split(";"),n=f[0];j=f[(l<0)?1:0]||("-"+n);h=n.match(i);if(!h){throw new Error("unable to find a number expression in pattern: "+j)}return j.replace(i,a(l,h[0],{decimal:g,group:m}))}})}(mediaWiki,jQuery));